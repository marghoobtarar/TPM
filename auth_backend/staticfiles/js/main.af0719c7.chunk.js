(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{83:function(e,t,a){"use strict";a.r(t);var n,r=a(0),c=a.n(r),o=a(17),l=a.n(o),s=a(6),i=a(4),u=a(1),m=a.n(u),p=a(8),A=a(7);function d(e,t){(n=new window.google.maps.places.Autocomplete(t.current,{types:["(cities)"],componentRestrictions:{country:"us"}})).setFields(["address_components","formatted_address"]),n.addListener("place_changed",(function(){return function(e){return f.apply(this,arguments)}(e)}))}function f(){return(f=Object(A.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.getPlace(),r=a.formatted_address,t(r),console.log(a);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var h=function(){var e=Object(r.useState)(""),t=Object(p.a)(e,2),a=t[0],n=t[1],o=Object(r.useRef)(null);return Object(r.useEffect)((function(){!function(e,t){var a=document.createElement("script");a.type="text/javascript",a.readyState?a.onreadystatechange=function(){"loaded"!==a.readyState&&"complete"!==a.readyState||(a.onreadystatechange=null,t())}:a.onload=function(){return t()},a.src=e,document.getElementsByTagName("head")[0].appendChild(a)}("https://maps.googleapis.com/maps/api/js?key=AIzaSyDGrN4ADRFCwmrcCMBSwAZ1CAEGIqeBQ1I&libraries=places",(function(){return d(n,o)}))}),[]),c.a.createElement("div",{className:"search-location-input"},c.a.createElement("input",{ref:o,onChange:function(e){return n(e.target.value)},placeholder:"Enter a City",value:a}))},g=a(38),b=function(){return c.a.createElement("div",{className:"container"},c.a.createElement("div",{class:"jumbotron mt-5"},c.a.createElement(h,null),c.a.createElement("div",null,c.a.createElement(g.a,{apiKey:"AIzaSyDGrN4ADRFCwmrcCMBSwAZ1CAEGIqeBQ1I"})),c.a.createElement("h1",{class:"display-4"},"Welcome to Auth System!"),c.a.createElement("p",{class:"lead"},"This is an incredible authentication system with production level features!"),c.a.createElement("hr",{class:"my-4"}),c.a.createElement("p",null,"Click the Log In button"),c.a.createElement(s.b,{class:"btn btn-primary btn-lg",to:"/login",role:"button"},"Login")))},E=a(14),v=a(2),O=a(5),w=a(9),y=a.n(w),S="LOGIN_SUCCESS",k="LOGIN_FAIL",C="SIGNUP_SUCCESS",N="SIGNUP_FAIL",j="ACTIVATION_SUCCESS",T="ACTIVATION_FAIL",I="USER_LOADED_SUCCESS",P="USER_LOADED_FAIL",x="AUTHENTICATED_SUCCESS",Q="AUTHENTICATED_FAIL",B="PASSWORD_RESET_FAIL",U="PASSWORD_RESET_SUCCESS",L="PASSWORD_RESET_CONFIRM_FAIL",D="PASSWORD_RESET_CONFIRM_SUCCESS",R="GOOGLE_AUTH_SUCCESS",M="GOOGLE_AUTH_FAIL",F="FACEBOOK_AUTH_SUCCESS",G="FACEBOOK_AUTH_FAIL",z="REMOVE_ERROR",J="LOGOUT",H=function(){return function(){var e=Object(A.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=14;break}return a={headers:{"Content-Type":"application/json",Authorization:"JWT ".concat(localStorage.getItem("access")),Accept:"application/json"}},e.prev=2,e.next=5,y.a.get("".concat("http://localhost:8000","/auth/users/me/"),a);case 5:n=e.sent,t({type:I,payload:n.data}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(2),t({type:P});case 12:e.next=15;break;case 14:t({type:P});case 15:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}()},Y=a.p+"static/media/login.12a90c3c.jpg",W=Object(O.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated,isError:e.auth.isError}}),{login:function(e,t){return function(){var a=Object(A.a)(m.a.mark((function a(n){var r,c,o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({email:e,password:t}),a.prev=2,a.next=5,y.a.post("".concat("http://localhost:8000","/auth/jwt/create/"),c,r);case 5:o=a.sent,n({type:S,payload:o.data}),n(H()),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),n({type:k,payload:"Account not found with the given credentials"});case 13:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e){return a.apply(this,arguments)}}()},removeError:function(){return function(){var e=Object(A.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:z});case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t,a=e.login,n=e.removeError,o=e.isAuthenticated,l=e.isError,s=Object(r.useState)({email:"",password:""}),u=Object(p.a)(s,2),d=u[0],f=u[1],h=Object(r.useState)(!1),g=Object(p.a)(h,2),b=g[0],O=g[1];Object(r.useEffect)((function(){l&&(O(!0),console.log("there is an error"))}),[l,b]);var w=d.email,S=d.password,k=function(e){f(Object(v.a)(Object(v.a)({},d),{},Object(E.a)({},e.target.name,e.target.value))),O(!1),n()},C=function(){var e=Object(A.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat("http://localhost:8000","/auth/o/google-oauth2/?redirect_uri=").concat("http://localhost:8000","/google"));case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(A.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat("http://localhost:8000","/auth/o/facebook/?redirect_uri=").concat("http://localhost:8000","/facebook"));case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return o?c.a.createElement(i.a,{to:"/"}):c.a.createElement("div",{className:"container h-100"},c.a.createElement("div",{className:"d-flex justify-content-center align-items-center h-100"},c.a.createElement("div",{className:"login-panel"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-xs-12 col-sm-6"},c.a.createElement("div",{className:"login-banner",style:(t={background:"url(".concat(Y,")"),backgroundRepeat:"no-repeat",height:"100%",borderRadius:"20px 0 0 20px"},Object(E.a)(t,"background","cover"),Object(E.a)(t,"backgroundPosition","right"),t)})),c.a.createElement("div",{className:"col-xs-12 col-sm-6"},c.a.createElement("div",{className:"login-form"},c.a.createElement("div",{className:"login-logo"},c.a.createElement("img",{src:"img/logo.png",alt:"Logo Here"})),c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),a(w,S)}(e)}},c.a.createElement("div",{className:"input-field"},c.a.createElement("label",null,"Email Address"),c.a.createElement("input",{className:"form-controls",style:b?{border:"2px solid red"}:null,type:"email",placeholder:"Email",name:"email",value:w,onChange:function(e){return k(e)},required:!0})),c.a.createElement("div",{className:"input-field"},c.a.createElement("label",null,"Password"),c.a.createElement("input",{style:b?{border:"2px solid red"}:null,className:"form-controls",type:"password",placeholder:"Password",name:"password",value:S,onChange:function(e){return k(e)},minLength:"6",required:!0})),c.a.createElement("div",{className:"checkbox custom-checkbox pull-left"},c.a.createElement("label",null,c.a.createElement("input",{type:"checkbox"}),c.a.createElement("span",{className:"checkbox-decorator"},c.a.createElement("span",{className:"check"}))," Remember me")),b?c.a.createElement("div",{className:"pull-left"},c.a.createElement("p",{style:{fontSize:"10px",textAlign:"center",color:"red"}}," Your account is not found with the given credentials ")):null,c.a.createElement("div",{className:"pull-right"},c.a.createElement("a",{href:"/forgot-password"}," Forgot Password? ")," "),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{type:"submit",value:"Sign In",className:"btn btn-info btn-lg btn-block login-btn ripple"})),c.a.createElement("div",{className:"header-title"},c.a.createElement("h2",null,c.a.createElement("span",{className:"tile-login"},"Login With"))),c.a.createElement("div",{className:"social-login-btns"},c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",null,c.a.createElement("img",{src:"data:image/png;base64,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",alt:"Facebook",onClick:N}))),c.a.createElement("li",null,c.a.createElement("a",null,c.a.createElement("img",{src:"data:image/png;base64,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",alt:"Google",onClick:C}))))))))))))})),V=Object(O.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{signup:function(e,t,a,n,r){return function(){var c=Object(A.a)(m.a.mark((function c(o){var l,s,i;return m.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return l={headers:{"Content-Type":"application/json"}},s=JSON.stringify({first_name:e,last_name:t,email:a,password:n,re_password:r}),c.prev=2,c.next=5,y.a.post("".concat("http://localhost:8000","/auth/users/"),s,l);case 5:i=c.sent,o({type:C,payload:i.data}),c.next=12;break;case 9:c.prev=9,c.t0=c.catch(2),o({type:N});case 12:case"end":return c.stop()}}),c,null,[[2,9]])})));return function(e){return c.apply(this,arguments)}}()}})((function(e){var t=e.signup,a=e.isAuthenticated,n=Object(r.useState)(!1),o=Object(p.a)(n,2),l=o[0],u=o[1],d=Object(r.useState)({first_name:"",last_name:"",email:"",password:"",re_password:""}),f=Object(p.a)(d,2),h=f[0],g=f[1],b=h.first_name,O=h.last_name,w=h.email,S=h.password,k=h.re_password,C=function(e){return g(Object(v.a)(Object(v.a)({},h),{},Object(E.a)({},e.target.name,e.target.value)))},N=function(){var e=Object(A.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat("http://localhost:8000","/auth/o/google-oauth2/?redirect_uri=").concat("http://localhost:8000","/google"));case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(A.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y.a.get("".concat("http://localhost:8000","/auth/o/facebook/?redirect_uri=").concat("http://localhost:8000","/facebook"));case 3:t=e.sent,window.location.replace(t.data.authorization_url),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return a?c.a.createElement(i.a,{to:"/"}):l?c.a.createElement(i.a,{to:"/login"}):c.a.createElement("div",{className:"container mt-5"},c.a.createElement("h1",null,"Sign Up"),c.a.createElement("p",null,"Create your Account"),c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),S===k&&(t(b,O,w,S,k),u(!0))}(e)}},c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{className:"form-control",type:"text",placeholder:"First Name*",name:"first_name",value:b,onChange:function(e){return C(e)},required:!0})),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{className:"form-control",type:"text",placeholder:"Last Name*",name:"last_name",value:O,onChange:function(e){return C(e)},required:!0})),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{className:"form-control",type:"email",placeholder:"Email*",name:"email",value:w,onChange:function(e){return C(e)},required:!0})),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{className:"form-control",type:"password",placeholder:"Password*",name:"password",value:S,onChange:function(e){return C(e)},minLength:"6",required:!0})),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{className:"form-control",type:"password",placeholder:"Confirm Password*",name:"re_password",value:k,onChange:function(e){return C(e)},minLength:"6",required:!0})),c.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Register")),c.a.createElement("button",{className:"btn btn-danger mt-3",onClick:N},"Continue With Google"),c.a.createElement("br",null),c.a.createElement("button",{className:"btn btn-primary mt-3",onClick:j},"Continue With Facebook"),c.a.createElement("p",{className:"mt-3"},"Already have an account? ",c.a.createElement(s.b,{to:"/login"},"Sign In")))})),q=Object(O.b)(null,{verify:function(e,t){return function(){var a=Object(A.a)(m.a.mark((function a(n){var r,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r={headers:{"Content-Type":"application/json"}},c=JSON.stringify({uid:e,token:t}),a.prev=2,a.next=5,y.a.post("".concat("http://localhost:8000","/auth/users/activation/"),c,r);case 5:n({type:j}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),n({type:T});case 11:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.verify,a=e.match,n=Object(r.useState)(!1),o=Object(p.a)(n,2),l=o[0],s=o[1];return l?c.a.createElement(i.a,{to:"/"}):c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"d-flex flex-column justify-content-center align-items-center",style:{marginTop:"200px"}},c.a.createElement("h1",null,"Verify your Account:"),c.a.createElement("button",{onClick:function(e){var n=a.params.uid,r=a.params.token;t(n,r),s(!0)},style:{marginTop:"50px"},type:"button",className:"btn btn-primary"},"Verify")))})),K=Object(O.b)(null,{reset_password:function(e){return function(){var t=Object(A.a)(m.a.mark((function t(a){var n,r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n={headers:{"Content-Type":"application/json"}},r=JSON.stringify({email:e}),t.prev=2,t.next=5,y.a.post("".concat("http://localhost:8000","/auth/users/reset_password/"),r,n);case 5:a({type:U}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),a({type:B});case 11:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}()}})((function(e){var t=e.reset_password,a=Object(r.useState)(!1),n=Object(p.a)(a,2),o=n[0],l=n[1],s=Object(r.useState)({email:""}),u=Object(p.a)(s,2),m=u[0],A=u[1],d=m.email;return o?c.a.createElement(i.a,{to:"/"}):c.a.createElement("div",{className:"container mt-5"},c.a.createElement("h1",null,"Request Password Reset:"),c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault(),t(d),l(!0)}(e)}},c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{className:"form-control",type:"email",placeholder:"Email",name:"email",value:d,onChange:function(e){return function(e){return A(Object(v.a)(Object(v.a)({},m),{},Object(E.a)({},e.target.name,e.target.value)))}(e)},required:!0})),c.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Reset Password")))})),X=Object(O.b)(null,{reset_password_confirm:function(e,t,a,n){return function(){var r=Object(A.a)(m.a.mark((function r(c){var o,l;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return o={headers:{"Content-Type":"application/json"}},l=JSON.stringify({uid:e,token:t,new_password:a,re_new_password:n}),r.prev=2,r.next=5,y.a.post("".concat("http://localhost:8000","/auth/users/reset_password_confirm/"),l,o);case 5:c({type:D}),r.next=11;break;case 8:r.prev=8,r.t0=r.catch(2),c({type:L});case 11:case"end":return r.stop()}}),r,null,[[2,8]])})));return function(e){return r.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.reset_password_confirm,n=Object(r.useState)(!1),o=Object(p.a)(n,2),l=o[0],s=o[1],u=Object(r.useState)({new_password:"",re_new_password:""}),m=Object(p.a)(u,2),A=m[0],d=m[1],f=A.new_password,h=A.re_new_password,g=function(e){return d(Object(v.a)(Object(v.a)({},A),{},Object(E.a)({},e.target.name,e.target.value)))};return l?c.a.createElement(i.a,{to:"/"}):c.a.createElement("div",{className:"container mt-5"},c.a.createElement("form",{onSubmit:function(e){return function(e){e.preventDefault();var n=t.params.uid,r=t.params.token;a(n,r,f,h),s(!0)}(e)}},c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{className:"form-control",type:"password",placeholder:"New Password",name:"new_password",value:f,onChange:function(e){return g(e)},minLength:"6",required:!0})),c.a.createElement("div",{className:"form-group"},c.a.createElement("input",{className:"form-control",type:"password",placeholder:"Confirm New Password",name:"re_new_password",value:h,onChange:function(e){return g(e)},minLength:"6",required:!0})),c.a.createElement("button",{className:"btn btn-primary",type:"submit"},"Reset Password")))})),Z=a(21),_=a.n(Z),$=Object(O.b)(null,{facebookAuthenticate:function(e,t){return function(){var a=Object(A.a)(m.a.mark((function a(n){var r,c,o,l;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e||!t||localStorage.getItem("access")){a.next=15;break}return r={headers:{"Content-Type":"application/x-www-form-urlencoded"}},c={state:e,code:t},o=Object.keys(c).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(c[e])})).join("&"),a.prev=4,a.next=7,y.a.post("".concat("http://localhost:8000","/auth/o/facebook/?").concat(o),r);case 7:l=a.sent,n({type:F,payload:l.data}),n(H()),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(4),n({type:G});case 15:case"end":return a.stop()}}),a,null,[[4,12]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.facebookAuthenticate,a=Object(i.g)();return Object(r.useEffect)((function(){var e=_.a.parse(a.search),n=e.state?e.state:null,r=e.code?e.code:null;console.log("State: "+n),console.log("Code: "+r),n&&r&&t(n,r)}),[a]),c.a.createElement("div",{className:"container"},c.a.createElement("div",{class:"jumbotron mt-5"},c.a.createElement("h1",{class:"display-4"},"Welcome to Auth System!"),c.a.createElement("p",{class:"lead"},"This is an incredible authentication system with production level features!"),c.a.createElement("hr",{class:"my-4"}),c.a.createElement("p",null,"Click the Log In button"),c.a.createElement(s.b,{class:"btn btn-primary btn-lg",to:"/login",role:"button"},"Login")))})),ee=Object(O.b)(null,{googleAuthenticate:function(e,t){return function(){var a=Object(A.a)(m.a.mark((function a(n){var r,c,o,l;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!e||!t||localStorage.getItem("access")){a.next=15;break}return r={headers:{"Content-Type":"application/x-www-form-urlencoded"}},c={state:e,code:t},o=Object.keys(c).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(c[e])})).join("&"),a.prev=4,a.next=7,y.a.post("".concat("http://localhost:8000","/auth/o/google-oauth2/?").concat(o),r);case 7:l=a.sent,n({type:R,payload:l.data}),n(H()),a.next=15;break;case 12:a.prev=12,a.t0=a.catch(4),n({type:M});case 15:case"end":return a.stop()}}),a,null,[[4,12]])})));return function(e){return a.apply(this,arguments)}}()}})((function(e){var t=e.googleAuthenticate,a=Object(i.g)();return Object(r.useEffect)((function(){var e=_.a.parse(a.search),n=e.state?e.state:null,r=e.code?e.code:null;console.log("State: "+n),console.log("Code: "+r),n&&r&&t(n,r)}),[a]),c.a.createElement("div",{className:"container"},c.a.createElement("div",{class:"jumbotron mt-5"},c.a.createElement("h1",{class:"display-4"},"Welcome to Auth System!"),c.a.createElement("p",{class:"lead"},"This is an incredible authentication system with production level features!"),c.a.createElement("hr",{class:"my-4"}),c.a.createElement("p",null,"Click the Log In button"),c.a.createElement(s.b,{class:"btn btn-primary btn-lg",to:"/login",role:"button"},"Login")))})),te=a(16),ae=a(42),ne=a(43),re={access:localStorage.getItem("access"),refresh:localStorage.getItem("refresh"),isAuthenticated:null,user:null},ce=Object(te.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case x:return Object(v.a)(Object(v.a)({},e),{},{isAuthenticated:!0});case z:return Object(v.a)(Object(v.a)({},e),{},{isAuthenticated:!1,isError:!1});case S:case R:case F:return localStorage.setItem("access",n.access),localStorage.setItem("refresh",n.refresh),Object(v.a)(Object(v.a)({},e),{},{isAuthenticated:!0,access:n.access,refresh:n.refresh});case C:return Object(v.a)(Object(v.a)({},e),{},{isAuthenticated:!1});case I:return Object(v.a)(Object(v.a)({},e),{},{user:n});case Q:return Object(v.a)(Object(v.a)({},e),{},{isAuthenticated:!1});case P:return Object(v.a)(Object(v.a)({},e),{},{user:null});case k:return Object(v.a)(Object(v.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1,user:null,isError:!0});case M:case G:case N:case J:return localStorage.removeItem("access"),localStorage.removeItem("refresh"),Object(v.a)(Object(v.a)({},e),{},{access:null,refresh:null,isAuthenticated:!1,user:null,isError:!0});case U:case B:case D:case L:case j:case T:return Object(v.a)({},e);default:return e}}}),oe=[ne.a],le=Object(te.createStore)(ce,{},Object(ae.composeWithDevTools)(te.applyMiddleware.apply(void 0,oe))),se=Object(O.b)((function(e){return{isAuthenticated:e.auth.isAuthenticated}}),{logout:function(){return function(e){e({type:J})}}})((function(e){var t=e.logout,a=e.isAuthenticated,n=Object(r.useState)(!1),o=Object(p.a)(n,2),l=o[0],u=o[1],m=function(){t(),u(!0)};return c.a.createElement(r.Fragment,null,c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},c.a.createElement(s.b,{className:"navbar-brand",to:"/"},"Aptallion"),c.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarNav","aria-controls":"navbarNav","aria-expanded":"false","aria-label":"Toggle navigation"},c.a.createElement("span",{className:"navbar-toggler-icon"})),c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarNav"},c.a.createElement("ul",{className:"navbar-nav"},c.a.createElement("li",{className:"nav-item active"},c.a.createElement(s.b,{className:"nav-link",to:"/"},"Home ",c.a.createElement("span",{className:"sr-only"},"(current)"))),a?c.a.createElement("li",{className:"nav-item"},c.a.createElement("a",{className:"nav-link",href:"#!",onClick:m},"Logout")):c.a.createElement(r.Fragment,null,c.a.createElement("li",{className:"nav-item"},c.a.createElement(s.b,{className:"nav-link",to:"/login"},"Login")),c.a.createElement("li",{className:"nav-item"},c.a.createElement(s.b,{className:"nav-link",to:"/signup"},"Sign Up")))))),l?c.a.createElement(i.a,{to:"/"}):c.a.createElement(r.Fragment,null))})),ie=Object(O.b)(null,{checkAuthenticated:function(){return function(){var e=Object(A.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("access")){e.next=15;break}return a={headers:{"Content-Type":"application/json",Accept:"application/json"}},n=JSON.stringify({token:localStorage.getItem("access")}),e.prev=3,e.next=6,y.a.post("".concat("http://localhost:8000","/auth/jwt/verify/"),n,a);case 6:"token_not_valid"!==e.sent.data.code?t({type:x}):t({type:Q}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),t({type:Q});case 13:e.next=16;break;case 15:t({type:Q});case 16:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},load_user:H})((function(e){var t=e.checkAuthenticated,a=e.load_user,n=e.children;return Object(r.useEffect)((function(){t(),a()}),[]),c.a.createElement("div",null,c.a.createElement(se,null),n)})),ue=function(){return c.a.createElement(O.a,{store:le},c.a.createElement(s.a,null,c.a.createElement(ie,null,c.a.createElement(i.d,null,c.a.createElement(i.b,{exact:!0,path:"/",component:b}),c.a.createElement(i.b,{exact:!0,path:"/login",component:W}),c.a.createElement(i.b,{exact:!0,path:"/signup",component:V}),c.a.createElement(i.b,{exact:!0,path:"/facebook",component:$}),c.a.createElement(i.b,{exact:!0,path:"/google",component:ee}),c.a.createElement(i.b,{exact:!0,path:"/reset-password",component:K}),c.a.createElement(i.b,{exact:!0,path:"/password/reset/confirm/:uid/:token",component:X}),c.a.createElement(i.b,{exact:!0,path:"/activate/:uid/:token",component:q})))))};l.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(ue,null)),document.getElementById("root"))}},[[83,1,2]]]);
//# sourceMappingURL=main.af0719c7.chunk.js.map